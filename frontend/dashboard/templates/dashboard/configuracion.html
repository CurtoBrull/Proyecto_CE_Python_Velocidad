{% extends 'dashboard/base.html' %}

{% block title %}Configuracion - Radar de Velocidad{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <h1><i class="bi bi-gear"></i> Configuracion</h1>
        <p class="text-muted">Ajusta los parametros del sistema de radar de velocidad</p>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0"><i class="bi bi-rulers"></i> Distancia entre Sensores</h5>
            </div>
            <div class="card-body">
                <p class="text-muted">
                    Define la distancia en metros entre el sensor de entrada y el sensor de salida.
                    Este valor se utiliza para calcular la velocidad de los vehiculos.
                </p>

                <form method="post">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label for="distancia" class="form-label">Distancia (metros)</label>
                        <div class="input-group">
                            <input type="number"
                                   class="form-control form-control-lg"
                                   id="distancia"
                                   name="distancia"
                                   value="{{ distancia_actual }}"
                                   min="1"
                                   max="10000"
                                   step="0.1"
                                   required>
                            <span class="input-group-text">metros</span>
                        </div>
                        <div class="form-text">
                            Valor actual: <strong>{{ distancia_actual }} metros</strong>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">
                        <i class="bi bi-check-lg"></i> Guardar Cambios
                    </button>
                </form>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0"><i class="bi bi-info-circle"></i> Informacion del Sistema</h5>
            </div>
            <div class="card-body">
                <table class="table table-borderless">
                    <tr>
                        <th class="text-muted">API FastAPI:</th>
                        <td><code>http://localhost:8080</code></td>
                    </tr>
                    <tr>
                        <th class="text-muted">Frontend Django:</th>
                        <td><code>http://localhost:8000</code></td>
                    </tr>
                    <tr>
                        <th class="text-muted">Limite de velocidad:</th>
                        <td>50 km/h</td>
                    </tr>
                </table>

                <div class="alert alert-info mt-3">
                    <i class="bi bi-lightbulb"></i>
                    <strong>Nota:</strong> Los cambios en la distancia afectaran las mediciones futuras.
                    Las mediciones existentes conservaran la distancia con la que fueron registradas.
                </div>
            </div>
        </div>

        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0"><i class="bi bi-calculator"></i> Formula de Calculo</h5>
            </div>
            <div class="card-body">
                <p>La velocidad se calcula usando la formula:</p>
                <div class="alert alert-secondary text-center">
                    <strong>Velocidad = Distancia / Tiempo</strong>
                </div>
                <ul class="mb-0">
                    <li><strong>Velocidad (m/s)</strong> = distancia / tiempo_recorrido</li>
                    <li><strong>Velocidad (km/h)</strong> = velocidad_ms * 3.6</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}
